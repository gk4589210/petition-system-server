webpackJsonp([7],{443:function(e,r,t){t(511);var a=t(108)(t(463),t(497),null,null);e.exports=a.exports},449:function(e,r,t){"use strict";t.d(r,"c",function(){return l}),t.d(r,"b",function(){return o});var a={emailReg:/^[a-z0-9A-Z]+([-|_|\.]+[a-z0-9A-Z]+)*@([a-z0-9A-Z]+[-|\.])+[a-zA-Z]{2,5}$/,idCardReg:/^(([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|(X|x))))$/,phoneReg:/^1[34578]\d{9}$/},l=function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:[]},o=function(e,r){var t=void 0;return function(){for(var a=this,l=arguments.length,o=Array(l),s=0;s<l;s++)o[s]=arguments[s];t&&clearTimeout(t),t=setTimeout(function(){e.apply(a,o)},r)}};r.a=a},463:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(449);r.default={data:function(){var e=this;return{errorInfo:!1,form:{id:"",name:"",realName:"",password:"",email:"",phone:"",card:"",sex:"",address:"",type:"",staffLevel:""},rules:{name:[{required:!0,message:"请输入登录名",trigger:"blur"},{min:4,message:"登录名最少4个字符",trigger:"blur"},{max:20,message:"登录名最多20个字符",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,message:"姓名最少2个字符",trigger:"blur"},{max:20,message:"姓名最多20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码最少6个字符",trigger:"blur"},{max:20,message:"密码最多20个字符",trigger:"blur"}],email:[{required:!0,validator:function(r,t,l){""===t?l(new Error("请输入电子邮箱邮箱")):a.a.emailReg.test(e.form.email)?l():l(new Error("请输入正确的电子邮箱"))},trigger:"blur"}],phone:[{required:!0,validator:function(r,t,l){""===t?l(new Error("请输入手机号")):a.a.phoneReg.test(e.form.phone)?l():l(new Error("请输入正确的手机号"))},trigger:"blur"}],card:[{required:!0,validator:function(r,t,l){""===t?l(new Error("请输入身份证号")):a.a.idCardReg.test(e.form.card)?l():l(new Error("请输入正确的身份证号"))},trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],address:[{required:!0,message:"请输入家庭住址",trigger:"blur"},{min:10,message:"家庭地址最少10个字符",trigger:"blur"},{max:50,message:"家庭地址最多50个字符",trigger:"blur"}]}}},methods:{getUserData:function(e){if(null==e)return this.$router.push({path:"/reportList"});var r=this,t={id:e};r.$http.get("/api/user/details",{params:t}).then(function(e){console.log(e);var t=e.data,a=t.data;r.form=a}).then(function(e){console.log(e)})},onSubmit:function(e){var r=this;r.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.$http.post("/api/user/update",r.form).then(function(e){console.log(e),-1==e.data.code?r.$message.error(e.data.msg):0==e.data.code&&(r.$message.success(e.data.msg),r.$router.push("/userList"))}).then(function(e){console.log(e)})})},onCancle:function(){this.$router.push("/userList")},getDateTimes:function(e){var e=new Date(e);return e}},created:function(){this.getUserData(this.$route.params.id)}}},480:function(e,r,t){r=e.exports=t(71)(!1),r.push([e.i,".userContent{margin:0 auto}.el-input.is-disabled .el-input__inner,.el-textarea.is-disabled .el-textarea__inner{background-color:#fff;border-color:#fff;color:#222;cursor:pointer}",""])},497:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("用户列表")]),e._v(" "),t("el-breadcrumb-item",[e._v("编辑详情")])],1)],1),e._v(" "),t("div",{staticClass:"userContent"},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{prop:"sex",label:"用户类型"}},[t("el-select",{staticClass:"select-sex",attrs:{placeholder:"用户类型"},model:{value:e.form.type,callback:function(r){e.$set(e.form,"type",r)},expression:"form.type"}},[t("el-option",{attrs:{label:"管理员",value:"admin"}}),e._v(" "),t("el-option",{attrs:{label:"员工",value:"staff"}}),e._v(" "),t("el-option",{attrs:{label:"群众",value:"user"}})],1)],1),e._v(" "),"staff"==e.form.type?t("el-form-item",{attrs:{prop:"staffLevel",label:"员工类型"}},[t("el-select",{staticClass:"select-sex",attrs:{placeholder:"员工类型"},model:{value:e.form.staffLevel,callback:function(r){e.$set(e.form,"staffLevel",r)},expression:"form.staffLevel"}},[t("el-option",{attrs:{label:"领导",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"普通员工",value:"1"}})],1)],1):e._e(),e._v(" "),t("el-form-item",{attrs:{prop:"name",label:"登录名"}},[t("el-input",{attrs:{placeholder:"登录名"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"realName",label:"真实姓名"}},[t("el-input",{attrs:{placeholder:"真实姓名"},model:{value:e.form.realName,callback:function(r){e.$set(e.form,"realName",r)},expression:"form.realName"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"password",label:"密码"}},[t("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"sex",label:"性别"}},[t("el-select",{staticClass:"select-sex",attrs:{placeholder:"性别"},model:{value:e.form.sex,callback:function(r){e.$set(e.form,"sex",r)},expression:"form.sex"}},[t("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),t("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"phone",label:"手机号"}},[t("el-input",{attrs:{placeholder:"手机号"},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"email",label:"电子邮箱"}},[t("el-input",{attrs:{placeholder:"电子邮箱"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"address",label:"联系地址"}},[t("el-input",{attrs:{placeholder:"联系地址"},model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"card",label:"身份证号"}},[t("el-input",{attrs:{placeholder:"身份证号"},model:{value:e.form.card,callback:function(r){e.$set(e.form,"card",r)},expression:"form.card"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.onSubmit("form")}}},[e._v("确定")]),e._v(" "),t("el-button",{on:{click:function(r){e.onCancle()}}},[e._v("取消")])],1)],1)],1),e._v(" "),t("el-col",{staticStyle:{"padding-left":"100px"},attrs:{span:12}})],1)],1)])},staticRenderFns:[]}},511:function(e,r,t){var a=t(480);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(159)("a70f6058",a,!0)}});
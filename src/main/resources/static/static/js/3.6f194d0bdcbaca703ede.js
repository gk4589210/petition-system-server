webpackJsonp([3],{447:function(e,t,a){a(500);var n=a(108)(a(467),a(485),null,null);e.exports=n.exports},449:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"b",function(){return r});var n={emailReg:/^[a-z0-9A-Z]+([-|_|\.]+[a-z0-9A-Z]+)*@([a-z0-9A-Z]+[-|\.])+[a-zA-Z]{2,5}$/,idCardReg:/^(([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|(X|x))))$/,phoneReg:/^1[34578]\d{9}$/},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:[]},r=function(e,t){var a=void 0;return function(){for(var n=this,i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];a&&clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}};t.a=n},467:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(449);t.default={name:"reportList",data:function(){return{type:"user",pageNo:"",pageSize:"",keywords:"",pagination:{pageIndex:1,pageSize:10,total:0},label:"群众",tableData:[],loginLoading:!1,tableHeader:[{prop:"id",label:"编号",align:"left"},{prop:"type",label:"用户类型",align:"left"},{prop:"name",label:"登录名",align:"left"},{prop:"realName",label:"姓名",align:"left"},{prop:"sex",label:"性别",align:"left"},{prop:"email",label:"电子邮箱",align:"left"},{prop:"phone",label:"手机号",align:"left"},{prop:"createTime",label:"创建时间","min-width":150,align:"left"}]}},components:{},created:function(){this.queryList()},mounted:function(){var e=this;this.$watch("queryKeyword",a.i(n.b)(function(){e.pagination.pageIndex=1,e.queryList()},1e3))},methods:{handleClick:function(e,t){this.queryList()},queryList:function(){this.loginLoading=!0;var e={type:this.type,keywords:this.keywords,pageNo:this.pagination.pageIndex,pageSize:this.pagination.pageSize},t=this;t.$http.get("/api/user/paging",{params:e}).then(function(e){console.log(e);var i=e.data;t.pagination.total=i.data.total,a.i(n.c)(i.data.records).forEach(function(e){"user"==e.type?e.type="群众":"staff"==e.type&&1==e.staffLevel?e.type="普通员工":"staff"==e.type&&2==e.staffLevel?e.type="领导":"admin"==e.type&&(e.type="管理员")}),t.tableData=a.i(n.c)(i.data.records)}).then(function(e){console.log(e)})},readUser:function(e){return this.$router.push({path:"/readUser",name:"readUser",params:{id:e}})},createUser:function(){return this.$router.push({path:"/createUser",name:"createUser"})},deleteUser:function(e){var t=this;t.$http.post("/api/user/delete?id="+e).then(function(e){console.log(e),0==e.data.code?(t.$message.success(e.data.msg),t.queryList()):t.$message.error(e.data.msg)}).then(function(e){console.log(e)})},handleSizeChange:function(e){this.pagination.pageSize=e,this.pagination.pageIndex=1,this.queryList()},handleCurrentChange:function(e){this.pagination.pageIndex=e,this.queryList()}}}},469:function(e,t,a){t=e.exports=a(71)(!1),t.push([e.i,"",""])},485:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("用户列表")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[e._v("\n                 \n")]),e._v(" "),a("el-col",{attrs:{span:8,align:"right"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.queryList},slot:"append"},[e._v("搜索")])],1)],1),e._v(" "),a("br")],1),e._v(" "),a("el-row",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-tab-pane",{attrs:{label:"群众",name:"user"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"员工",name:"staff"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"管理员",name:"admin"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[e._l(e.tableHeader,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,"min-width":e["min-width"],align:e.align}})}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.readUser(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.deleteUser(t.row.id)}}},[e._v("删除")])]}}])})],2),e._v(" "),a("br"),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pagination.pageIndex,"page-sizes":[5,10,20,30,40],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},500:function(e,t,a){var n=a(469);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(159)("1aaf1cce",n,!0)}});
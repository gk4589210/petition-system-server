webpackJsonp([5],{445:function(t,e,a){a(502);var n=a(108)(a(465),a(487),null,null);t.exports=n.exports},449:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"b",function(){return r});var n={emailReg:/^[a-z0-9A-Z]+([-|_|\.]+[a-z0-9A-Z]+)*@([a-z0-9A-Z]+[-|\.])+[a-zA-Z]{2,5}$/,idCardReg:/^(([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|(X|x))))$/,phoneReg:/^1[34578]\d{9}$/},i=function(t){return"[object Array]"===Object.prototype.toString.call(t)?t:[]},r=function(t,e){var a=void 0;return function(){for(var n=this,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];a&&clearTimeout(a),a=setTimeout(function(){t.apply(n,r)},e)}};e.a=n},465:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(449);e.default={name:"reportList",data:function(){return{state:"0",pageNo:"",pageSize:"",keywords:"",pagination:{pageIndex:1,pageSize:10,total:0},label:"待审批",tableData:[],loginLoading:!1,tableHeader:[{prop:"id",label:"编号",align:"left"},{prop:"title",label:"标题","min-width":300,align:"left"},{prop:"userRealName",label:"姓名",align:"left"},{prop:"createTime",label:"创建时间","min-width":150,align:"left"},{prop:"categoryTitle",label:"类型",align:"left"},{prop:"approvalState",label:"状态",align:"left"}]}},components:{},created:function(){this.queryList()},mounted:function(){var t=this;this.$watch("queryKeyword",a.i(n.b)(function(){t.pagination.pageIndex=1,t.queryList()},1e3))},methods:{handleClick:function(t,e){this.queryList()},queryList:function(){this.loginLoading=!0;var t={state:this.state,keywords:this.keywords,pageNo:this.pagination.pageIndex,pageSize:this.pagination.pageSize},e=this;e.$http.get("/api/report/paging",{params:t}).then(function(t){console.log(t);var i=t.data;e.pagination.total=i.data.total,a.i(n.c)(i.data.records).forEach(function(t){0==t.approvalState?t.approvalState="待审核":1==t.approvalState?t.approvalState="初审通过":2==t.approvalState?t.approvalState="审核通过":-1==t.approvalState&&(t.approvalState="驳回")}),e.tableData=a.i(n.c)(i.data.records)}).then(function(t){console.log(t)})},readReport:function(t){return this.$router.push({path:"/readReport",name:"readReport",params:{id:t}})},deleteReport:function(t){var e=this;e.$http.post("/api/report/delete?id="+t).then(function(t){console.log(t),0==t.data.code?(e.$message.success(t.data.msg),e.queryList()):e.$message.error(t.data.msg)}).then(function(t){console.log(t)})},handleSizeChange:function(t){this.pagination.pageSize=t,this.pagination.pageIndex=1,this.queryList()},handleCurrentChange:function(t){this.pagination.pageIndex=t,this.queryList()}}}},471:function(t,e,a){e=t.exports=a(71)(!1),e.push([t.i,"",""])},487:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("案件列表")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[t._v("\n             \n        ")]),t._v(" "),a("el-col",{attrs:{span:8,align:"right"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.queryList},slot:"append"},[t._v("搜索")])],1)],1)],1),t._v(" "),a("el-row",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[a("el-tab-pane",{attrs:{label:"待审批",name:"0"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"初审通过",name:"1"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"审批通过",name:"2"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"驳回",name:"-1"}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[t._l(t.tableHeader,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,"min-width":t["min-width"],align:t.align}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.readReport(e.row.id)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.deleteReport(e.row.id)}}},[t._v("删除")])]}}])})],2),t._v(" "),a("br"),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pagination.pageIndex,"page-sizes":[5,10,20,30,40],"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},502:function(t,e,a){var n=a(471);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(159)("2e06d3cd",n,!0)}});